<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Medea Example: New Object</title>
    <link rel="stylesheet" media="all" href="bootstrap.min.css" >
    <link rel="stylesheet" media="all" href="style.css">
    <script src="jquery-3.3.1.js"></script>
    <script src="bootstrap.js"></script>
    <script src="jquery.medea.js"></script>
    <script src="utils.js"></script>
    <script src="converter.js"></script>
</head>
<body class="container">

    <a href="index.html">examples</a>

    <h2>New Object Example</h2>

    <div class="row">
        <div class="col-md-7">
            <h4>Form</h4>
            <div id="formDiv"></div>
        </div>
    </div>

    <script>
	var testObj3 = {
  "count": "1",
  "encounter_type": "Member Registration",
  "entity_id": "",
  "relational_id": "",
  "metadata": {
    "start": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "start",
      "openmrs_entity_id": "163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "end": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "end",
      "openmrs_entity_id": "163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "today": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "encounter",
      "openmrs_entity_id": "encounter_date"
    },
    "deviceid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "deviceid",
      "openmrs_entity_id": "163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "subscriberid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "subscriberid",
      "openmrs_entity_id": "163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "simserial": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "simserial",
      "openmrs_entity_id": "163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "phonenumber": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "phonenumber",
      "openmrs_entity_id": "163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "encounter_location": "",
    "look_up": {
      "entity_id": "",
      "value": ""
    }
  },
  "step1": {
    "title": "Member Registration",
    "fields": [
      {
        "key": "member_unique_ID",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "idtype",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "কোন পরিচয় পত্রটি আছে?",
        "values": [
          "জাতীয় পরিচয় পত্র",
          "জন্মনিবন্ধন",
          "ইপিআই কার্ড নাম্বার",
          "আইডি কার্ড নেই"
        ],
        "openmrs_choice_ids": {
          "জাতীয় পরিচয় পত্র":"NID",
          "জন্মনিবন্ধন":"BRID",
          "ইপিআই কার্ড নাম্বার":"EPI",
          "আইডি কার্ড নেই":"noIdentifier"
        }
      },
      {
        "key": "member_NID",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "nationalId",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "জাতীয় পরিচয় পত্র",
        "v_numeric": {
          "value": "true",
          "err": "Enter a valid NID No."
        },
        "v_regex": {
          "value": "^(?=[0-9]*$)(?:.{10}|.{13}|.{17})$",
          "err": "Number must be a total of 10,13 or 17 digits in length"
        },
        "v_required": {
          "value": true,
          "err": "Please Type NID"
        },
        "relevance": {
          "step1:member_unique_ID": {
            "type": "string",
            "ex": "equalTo(., \"জাতীয় পরিচয় পত্র\")"
          }
        }
      },
      {
        "key": "member_BRID",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "birthRegistrationID",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "জন্মনিবন্ধন",
        "v_numeric": {
          "value": "true",
          "err": "Enter a valid BRID"
        },
        "v_regex": {
          "value": "^(?=[0-9]*$)(?:.{17})$",
          "err": "Number must be a total of 17 digits in length"
        },
        "v_required": {
          "value": true,
          "err": "Please Type BRID"
        },
        "relevance": {
          "step1:member_unique_ID": {
            "type": "string",
            "ex": "equalTo(., \"জন্মনিবন্ধন\")"
          }
        }
      },
      {
        "key": "Citizen_Card_number",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "epicardnumber",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "ইপিআই কার্ড নাম্বার",
        "v_numeric": {
          "value": "true",
          "err": "Enter a valid BRID"
        },
        "v_regex": {
          "value": "^(?=[0-9]*$)(?:.{17})$",
          "err": "Number must be a total of 17 digits in length"
        },
        "v_required": {
          "value": true,
          "err": "Please Type BRID"
        },
        "relevance": {
          "step1:member_unique_ID": {
            "type": "string",
            "ex": "equalTo(., \"ইপিআই কার্ড নাম্বার\")"
          }
        }
      },
      {
        "key": "member_Reg_Date",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "openmrs_data_type": "text",
        "type": "date_picker",
        "hint": "রেজিস্ট্রেশন তারিখ",
        "expanded": false,
        "min_date": "today-5y",
        "max_date": "today",
        "v_required": {
          "value": "false",
          "err": "Please enter the date of Registration."
        }
      },
      {
        "key": "Patient_Identifier",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_identifier",
        "openmrs_entity_id": "Patient_Identifier",
        "type": "edit_text",
        "hint": "নিবন্ধন নম্বর *",
        "read_only": "true",
        "value": "0",
        "v_numeric": {
          "value": "true",
          "err": "Please enter a valid ID"
        },
        "v_required": {
          "value": "true",
          "err": "Please enter the  ID"
        }
      },
      {
        "key": "member_f_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person",
        "openmrs_entity_id": "first_name",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "নাম এর প্রথম অংশ(ইংরেজীতে)",
        "expanded": false,
        "v_required": {
          "value": "true",
          "err": "Please Enter a Valid Name"
        },
        "v_regex": {
          "value": "[A-Za-z\\s\.\-]*",
          "err": "Please Enter a Valid Name"
        }
      },
      {
        "key": "last_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person",
        "openmrs_entity_id": "last_name",
        "type": "edit_text",
        "hint": "নাম এর শেষ অংশ(ইংরেজীতে)",
        "edit_type": "name",
        "v_required": {
          "value": "true",
          "err": "Please enter the last name"
        },
        "v_regex": {
          "value": "[A-Za-z\\s\.\-]*",
          "err": "Please enter a valid name"
        }
      },
      {
        "key": "member_f_name_bengali",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "givenNameLocal",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "নাম (বাংলায়)",
        "expanded": false,
        "v_required": {
          "value": "false",
          "err": "Please Enter a Valid Name"
        }
      },
      {
        "key": "Mother_Guardian_First_Name_english",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "motherNameEnglish",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "মাতার নাম (ইংরেজীতে)",
        "edit_type": "name",
        "v_required": {
          "value": "true",
          "err": "Please enter the mother/guardian's first name"
        },
        "v_regex": {
          "value": "[A-Za-z\\s\.\-]*",
          "err": "Please enter a valid name"
        }
      },
      {
        "key": "Mother_Guardian_First_Name_bengali",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "motherNameBangla",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "মাতার নাম (বাংলায়)",
        "edit_type": "name",
        "v_required": {
          "value": "false",
          "err": "Please enter the mother/guardian's first name"
        }
      },
      {
        "key": "Father_Guardian_First_Name_english",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "fatherNameEnglish",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "পিতার নাম (ইংরেজীতে)",
        "edit_type": "name",
        "v_required": {
          "value": "true",
          "err": "Please enter the mother/guardian's first name"
        },
        "v_regex": {
          "value": "[A-Za-z\\s\.\-]*",
          "err": "Please enter a valid name"
        }
      },
      {
        "key": "Father_Guardian_First_Name_bengali",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "fathernameBangla",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "পিতার নাম (বাংলায়)",
        "edit_type": "name",
        "v_required": {
          "value": "false",
          "err": "Please enter the mother/guardian's first name"
        }
      },
      {
        "key": "member_birth_date_known",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "জন্ম তারিখ জানা আছে কি?",
        "values": [
          "হ্যাঁ",
          "না"
        ],
        "openmrs_choice_ids": {
          "হ্যাঁ": "Yes",
          "না": "No"
        }
      },
      {
        "key": "member_birth_date",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person",
        "openmrs_entity_id": "birthdate",
        "openmrs_data_type": "text",
        "type": "date_picker",
        "hint": "‘হ্যাঁ’ হলে জন্ম তারিখ",
        "v_required": {
          "value": true,
          "err": "Please Enter birth date"
        },
        "relevance": {
          "step1:member_birth_date_known": {
            "type": "string",
            "ex": "equalTo(., \"হ্যাঁ\")"
          }
        },
        "max_date": "today"
      },
      {
        "key": "age",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "‘না জানলে বয়স লিখুন (বছর)",
        "v_numeric": {
          "value": "true",
          "err": "Enter age"
        },
        "v_required": {
          "value": true,
          "err": "Please Type Age"
        },
        "relevance": {
          "step1:member_birth_date_known": {
            "type": "string",
            "ex": "equalTo(., \"না\")"
          }
        }
      },
      {
        "key": "gender",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person",
        "openmrs_entity_id": "gender",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "লিঙ্গ",
        "values": [
          "পুরুষ",
          "মহিলা",
          "তৃতীয় লিঙ্গ"
        ],
        "openmrs_choice_ids": {
          "পুরুষ":"M",
          "মহিলা":"F",
          "তৃতীয় লিঙ্গ":"O"
        }
      },
      {
        "key": "relation_with_household_head",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "Realtion_With_Household_Head",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "থানা প্রধানের সাথে সম্পর্ক",
        "values": [
          "খানা প্রধান",
          "স্বামী/স্ত্রী",
          "পুত্র",
          "কন্যা",
          "পুত্রবধূ",
          "নাতি",
          "নাতনি",
          "পিতা",
          "মাতা",
          "ভাই",
          "বোন",
          "ভাইপো",
          "ভাইঝি",
          "ভাগ্নে",
          "ভাগ্নি",
          "শ্বশুর",
          "শাশুড়ি",
          "শ্যালক",
          "শ্যালিকা",
          "দেবর",
          "জা",
          "ননদ",
          "ভাইয়ের স্ত্রী",
          "ভগ্নিপতি",
          "জামাতা",
          "অন্যান্য আত্মীয়",
          "অন্যান্য অনাত্মীয়"
        ],
        "openmrs_choice_ids": {
          "খানা প্রধান": "Household_Head",
          "স্বামী/স্ত্রী": "Husband_or_Wife",
          "পুত্র": "Son",
          "কন্যা": "Daughter",
          "পুত্রবধূ": "Daughter_in_law",
          "নাতি": "Grandson",
          "নাতনি": "Granddaughter",
          "পিতা": "father",
          "মাতা": "Mother",
          "ভাই": "Brother",
          "বোন": "Sister",
          "ভাইপো": "Nephew(Paternal)",
          "ভাইঝি": "Niece(Paternal)",
          "ভাগ্নে": "Nephew(Maternal)",
          "ভাগ্নি": "Niece(Maternal)",
          "শ্বশুর": "Father_in_Law",
          "শাশুড়ি": "Mother in Law",
          "শ্যালক": "Brother_in_Law",
          "শ্যালিকা": "Sister_in_Law",
          "দেবর": "Brother_in_Law(Wife)",
          "জা": "Brother_in_Law_Wife(Wife)",
          "ননদ": "Sister_in_Law(Wife)",
          "ভাইয়ের স্ত্রী": "Wife_of_Brother",
          "ভগ্নিপতি": "Husband_of_Sister",
          "জামাতা": "Son_in_Law",
          "অন্যান্য আত্মীয়": "Others_Relative",
          "অন্যান্য অনাত্মীয়": "Others_Non_Relative"
        }
      },
      {
        "key": "marital_status",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "MaritalStatus",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "বৈবাহিক অবস্থা",
        "values": [
          "বিবাহিত",
          "দাম্পত্য বিছিন্ন",
          "তালাক প্রাপ্ত",
          "অবিবাহিত",
          "বিধবা",
          "বিপত্নীক"
        ],
        "openmrs_choice_ids": {
          "বিবাহিত": "Married",
          "দাম্পত্য বিছিন্ন": "Conjugal Separation",
          "তালাক প্রাপ্ত": "Divorced",
          "অবিবাহিত": "Unmarried",
          "বিধবা": "Widow",
          "বিপত্নীক": "Widower"
        }
      },
      {
        "key": "spouseName_english",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "spouseNameEnglish",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "স্বামী/স্ত্রীর নাম (ইংরেজীতে)",
        "v_required": {
          "value": true,
          "err": "Please Type Husband Name."
        },
        "v_regex": {
          "value": "[A-Za-z\\s\.\-]*",
          "err": "Please Enter a Valid Name"
        },
        "relevance": {
          "step1:marital_status": {
            "type": "string",
            "ex": "equalTo(., \"বিবাহিত\")"
          }
        }
      },
      {
        "key": "spouseName_bengali",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "spouseNameBangla",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "স্বামী/স্ত্রীর নাম (বাংলায়)",
        "v_required": {
          "value": false,
          "err": "Please Type Husband Name."
        },
        "v_regex": {
          "value": "[A-Za-z\\s\.\-]*",
          "err": "Please Enter a Valid Name"
        },
        "relevance": {
          "step1:marital_status": {
            "type": "string",
            "ex": "equalTo(., \"বিবাহিত\")"
          }
        }
      },
      {
        "key": "contact_phone_number",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "phoneNumber",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "মোবাইল নম্বর (ইংরেজীতে)",
        "v_required": {
          "value": true,
          "err": "Enter 11 digits Mobile Number."
        },
        "v_numeric": {
          "value": "true",
          "err": "Number must begin with 095, 096, or 097 and must be a total of 11 digits in length"
        },
        "v_regex": {
          "value": "(01[5-9][0-9]{8})|\s*",
          "err": "Number must begin with 015, 016,017,018 or 019 and must be a total of 11 digits in length"
        },
        "v_max_length": {
          "value": "11",
          "err": "Please Enter 11 digit Mobile number"
        },
        "v_min_length": {
          "value": "11",
          "err": "Please Enter 11 digit Mobile number"
        }
      },
      {
        "key": "birth_place",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "birthPlace",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "hint": "জন্মস্থান (জেলা)"
      },
      {
        "key": "disability",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "disable",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "প্রতিবন্ধী",
        "values": [
          "হ্যাঁ",
          "না"
        ],
        "openmrs_choice_ids": {
          "হ্যাঁ": "Yes",
          "না": "No"
        }
      },
      {
        "key": "disability_type",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "Disability_Type",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "প্রতিবন্ধিতা ধরন",
        "values": [
          "অটিজম",
          "শারীরিক প্রতিবন্ধিতা",
          "দীর্ঘস্থায়ী মানসিক অসুস্থতাজানিত প্রতিবন্ধিতা",
          "দৃষ্টিপ্রতিবন্ধিতা",
          "বাকপ্রতিবন্ধিতা",
          "বুদ্ধি প্রতিবন্ধিতা",
          "শ্রবণ প্রতিবন্ধিতা",
          "শ্রবণদৃষ্টি প্রতিবন্ধিতা",
          "সেরিব্রালপালসি",
          "বহুমাত্রিক প্রতিবন্ধিতা",
          "ডাউন সিনড্রম",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "অটিজম": "Autism",
          "শারীরিক প্রতিবন্ধিতা": "Physical Disability",
          "দীর্ঘস্থায়ী মানসিক অসুস্থতাজানিত প্রতিবন্ধিতা": "Chronic Psychiatric Disability",
          "দৃষ্টিপ্রতিবন্ধিতা": "Blindness",
          "বাকপ্রতিবন্ধিতা": "Mute",
          "বুদ্ধি প্রতিবন্ধিতা": "Mentally Challenged",
          "শ্রবণ প্রতিবন্ধিতা": "Hearing Disability",
          "শ্রবণদৃষ্টি প্রতিবন্ধিতা": "Auditory Disability",
          "সেরিব্রালপালসি": "Cerebral Palsy",
          "বহুমাত্রিক প্রতিবন্ধিতা": "Multidimensional Disability",
          "ডাউন সিনড্রম": "Down Syndrome",
          "অন্যান্য": "Others (Disability)"
        },
        "relevance": {
          "step1:disability": {
            "type": "string",
            "ex": "equalTo(., \"হ্যাঁ\")"
          }
        }
      },
      {
        "key": "ethnicity",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "ethnicity",
        "openmrs_data_type": "select one",
        "type": "spinner",
        "hint": "জাতিসত্তা",
        "values": [
          "বাঙ্গালী",
          "চাকমা",
          "মারমা",
          "ত্রিপুরা",
          "সাঁওতাল",
          "গারো",
          "মণিপুরী",
          "ওঁরাও",
          "তঞ্চ্যঙ্গা",
          "বর্ম্মন",
          "খাসিয়া বা খাসি",
          "ম্রো",
          "মুন্ডা",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "বাঙ্গালী": "Bengali",
          "চাকমা": "Chakma",
          "মারমা": "Marma",
          "ত্রিপুরা": "Tripura",
          "সাঁওতাল": "Santal",
          "গারো": "Garo",
          "মণিপুরী": "Manipuri",
          "ওঁরাও": "Onrao",
          "তঞ্চ্যঙ্গা": "Tanchanga",
          "বর্ম্মন": "Barman",
          "খাসিয়া বা খাসি": "Khasia",
          "ম্রো": "Mro",
          "মুন্ডা": "Munda",
          "অন্যান্য": "Others (Ethnicity)"

        }
      },
      {
        "key": "educational_qualification",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "education",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "শিক্ষাগত যোগ্যতা",
        "values": [
          "কোন শ্রেণীতে উত্তীর্ণ হয়নি",
          "প্লে/নার্সারি/ কেজি",
          "১ম শ্রেণী",
          "২য় শ্রেণী",
          "৩য় শ্রেণী",
          "৪র্থ শ্রেণী",
          "৫ম শ্রেণী",
          "৬ষ্ঠ শ্রেণী",
          "৭ম শ্রেণী",
          "৮ম শ্রেণী",
          "৯ম শ্রেণী",
          "এসএসসি বা সমমান",
          "এইচএসসি বা সমমান",
          "স্নাতক বা সমমান",
          "স্নাতকোত্তর বা সমমান",
          "ডাক্তারী",
          "ইঞ্জিনিয়ারিং",
          "বৃত্তিমূলক",
          "কারিগরি",
          "ধাত্রীবিদ্যা/নার্সিং",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "কোন শ্রেণীতে উত্তীর্ণ হয়নি": "Uneducated",
          "প্লে/নার্সারি/ কেজি": "Play/Nursery/KG",
          "১ম শ্রেণী": "Class 1",
          "২য় শ্রেণী": "Class 2",
          "৩য় শ্রেণী": "Class 3",
          "৪র্থ শ্রেণী": "Class 4",
          "৫ম শ্রেণী": "Class 5",
          "৬ষ্ঠ শ্রেণী": "Class 6",
          "৭ম শ্রেণী": "Class 7",
          "৮ম শ্রেণী": "Class 8",
          "৯ম শ্রেণী": "Class 9",
          "এসএসসি বা সমমান": "SSC or equivalent",
          "এইচএসসি বা সমমান": "HSC or equivalent",
          "স্নাতক বা সমমান": "Hons. or equivalent",
          "স্নাতকোত্তর বা সমমান": "Masters or equivalent",
          "ডাক্তারী": "Doctor",
          "ইঞ্জিনিয়ারিং": "Engineering",
          "বৃত্তিমূলক": "Vocational",
          "কারিগরি": "Technical",
          "ধাত্রীবিদ্যা/নার্সিং": "Midwife/Nursing",
          "অন্যান্য": "Others (Education)"
        }
      },
      {
        "key": "occupation",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "occupation",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "পেশা",
        "values": [
          "ভৌত বিজ্ঞানী এবং এতদসম্পর্কিত টেকনিশিয়ান",
          "ইঞ্জিনিয়ারিং ও স্থপতি",
          "ইঞ্জিনিয়ারিং ও স্থপতি সম্পর্কিত টেকনিশিয়ান",
          "বিমান এবং জাহাজের কর্মকর্তা",
          "জীব বিজ্ঞান এবং এতদসম্পর্কিত টেকনিশিয়ান",
          "চিকিৎসক, দন্ত চিকিৎসক ও প্রাণী চিকিৎসক",
          "নার্স এবং চিকিৎসা-সংক্রান্ত অন্যান্য কর্মী",
          "পরিসংখ্যানবিদ, গণিতবিদ সিস্টেম, এনালিস্ট এবং এতদসম্পকিত কর্মী",
          "অর্থনীতিবিদ",
          "হিসাব রক্ষক",
          "বিচারক",
          "শিক্ষক",
          "ধর্মীয় কর্মী",
          "লেখক, সাংবাদিক এবং এতদসম্পর্কিত কর্মী",
          "চিত্রশিল্পী, ফটোগ্রাফার এবং এতদসম্পর্কিত সৃজনশীল শিল্পী",
          "অভিনয়, কণ্ঠশিল্পী এবং নৃত্য শিল্পী",
          "খেলোয়াড় এবং এতদসম্পর্কিত কর্মী",
          "পেশাগত, কারিগরি এবং অন্যান্য অশ্রেণীভুক্ত এতদসম্পর্কিত কর্মী",
          "আইনজীবী",
          "ম্যানেজার",
          "সরকারী নির্বাহী কর্মকর্তা",
          "করণীক (কেরাণী)",
          "টাইপিস্ট/স্টেনোগ্রাফার/কম্পিউটার অপারেটর",
          "রেকর্ড কিপার,ক্যাশিয়ার এবং এতদসম্পর্কিত কর্মী",
          "কম্পিউটার সম্পর্কিত কর্মী",
          "যানবাহন ও যোগাযোগ তত্ত্বাবধায়ক",
          "গাড়ির চালক, কন্ডাক্টর",
          "চিঠিপত্র বিলিকারী (ডাক পিয়ন)",
          "টেলিফোন ও টেলিগ্রাফ অপারেটর",
          "অশ্রেণীভুক্ত দাপ্তরিক কাজ।",
          "ম্যানেজার (পাইকারী ও খুচরা ব্যবসা)",
          "বিক্রয় তত্বাবধায়ক",
          "ভ্রমণ সংক্রান্ত কাজে নিয়োজিত কর্মী",
          "বীমা, রিয়েল এস্টেট, ব্যবসা এবং এতদসম্পর্কিত সেবা বিক্রেতা",
          "ফেরিওয়ালা",
          "অশ্রেণীভুক্ত বিক্রয় কর্মী",
          "আবাসিক হোটেল ম্যানেজার",
          "হোটেল মালিক",
          "আবাসিক হোটেল তত্ত্বাবধায়ক",
          "বাবুর্চি, হোটেল বয় এবং এতদসম্পর্কিত সম্পর্কিত কর্মী,",
          "অশ্রেণীভুক্ত গৃহপরিচারিকা",
          "বাড়ির কেয়ারটেকার, ঝাড়ুদার এবং এতদসম্পর্কিত কর্মী",
          "ধোপার কাজ",
          "নিরাপত্তা কর্মী",
          "অশ্রেণীভুক্ত সেবা কর্মী",
          "কৃষি খামার ব্যবস্থাপক ও তত্বাবধায়ক",
          "কৃষি কাজ",
          "বনকর্মী",
          "জেলে, শিকারী এবং এতদসম্পর্কিত কর্মী",
          "উৎপাদন তত্ত্বাবধায়ক এবং ফোরম্যান",
          "খনন কর্মী ও খননকারী",
          "ধাতু প্রক্রিয়াকারী",
          "রাসায়নিক দ্রব্য প্রক্রিয়াকারী",
          "তাঁতি কাপড় বোনা ও রং করা",
          "চামড়া প্রক্রিয়াকরণ",
          "খাদ্য ও পানীয় প্রক্রিয়া কারী",
          "তামাক প্রক্রিয়াকারী",
          "দর্জি ও অন্যান্য সেলাই কর্মী",
          "জুতা ও চামড়াজাত দ্রব্য প্রস্তুতকারী",
          "কাঠ মিস্ত্রি",
          "পাথর কাটা ও প্রক্রিয়কারী",
          "কর্মকার, ঢালাই কর্মী ও যন্ত্রাংশ প্রস্তুতকারী",
          "বৈদ্যুতিক ব্যতীত অন্যান্য মেশিন কর্মী",
          "বৈদ্যুতিক কর্মী",
          "শব্দ প্রচারকর্মী ও চলচ্চিত্র প্রদর্শনকারী",
          "পানি ও পয়ঃনিষ্কাশন কাঠামো নির্মাণকারী ও ধাতু ঝালাইকারী",
          "স্বর্ণকার",
          "গ্লাস ও মাটির জিনিস প্রস্তুতকারী",
          "রাবার ও প্লাস্টিক দ্রব্য প্রস্তুতকারী",
          "কাগজ ও কাগজের বোর্ড প্রস্তুতকারী",
          "মুদ্রণ কাজ",
          "অকৃষি শ্রমিক",
          "গৃহকর্ম",
          "ছাত্র/ছাত্রী",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "ভৌত বিজ্ঞানী এবং এতদসম্পর্কিত টেকনিশিয়ান": "Physical scientist and relevant technicians",
          "ইঞ্জিনিয়ারিং ও স্থপতি": "Engineer & Architect",
          "ইঞ্জিনিয়ারিং ও স্থপতি সম্পর্কিত টেকনিশিয়ান": "Engineering and Architect related technicians",
          "বিমান এবং জাহাজের কর্মকর্তা": "Officer of Airplane and Ship",
          "জীব বিজ্ঞান এবং এতদসম্পর্কিত টেকনিশিয়ান": "Biology and relevant technician",
          "চিকিৎসক, দন্ত চিকিৎসক ও প্রাণী চিকিৎসক": "Medical doctor, Dentist & Veterinary",
          "নার্স এবং চিকিৎসা-সংক্রান্ত অন্যান্য কর্মী": "Nurse and treatment related other stuffs",
          "পরিসংখ্যানবিদ, গণিতবিদ সিস্টেম, এনালিস্ট এবং এতদসম্পকিত কর্মী": "Statistician, Mathematician, System Analyst and Relevant",
          "অর্থনীতিবিদ": "Economist",
          "হিসাব রক্ষক": "Accountant",
          "বিচারক": "Judge",
          "শিক্ষক": "Teacher",
          "ধর্মীয় কর্মী": "Religious Worker",
          "লেখক, সাংবাদিক এবং এতদসম্পর্কিত কর্মী": "Writer, Journalist and Relevant",
          "চিত্রশিল্পী, ফটোগ্রাফার এবং এতদসম্পর্কিত সৃজনশীল শিল্পী": "Painter, Photographer and relevant creative artist",
          "অভিনয়, কণ্ঠশিল্পী এবং নৃত্য শিল্পী": "Acting, Singing and Dancing",
          "খেলোয়াড় এবং এতদসম্পর্কিত কর্মী": "Player and Relevant",
          "পেশাগত, কারিগরি এবং অন্যান্য অশ্রেণীভুক্ত এতদসম্পর্কিত কর্মী": "Occupational, Technical and other non categorized worker",
          "আইনজীবী": "Lawyer",
          "ম্যানেজার": "Manager",
          "সরকারী নির্বাহী কর্মকর্তা": "Government Executive Officer",
          "করণীক (কেরাণী)": "Clerk",
          "টাইপিস্ট/স্টেনোগ্রাফার/কম্পিউটার অপারেটর": "Typist, Stenographer & Computer Operator",
          "রেকর্ড কিপার,ক্যাশিয়ার এবং এতদসম্পর্কিত কর্মী": "Record Keeper, Cashier & Relevant",
          "কম্পিউটার সম্পর্কিত কর্মী": "Computer Relevant Worker",
          "যানবাহন ও যোগাযোগ তত্ত্বাবধায়ক": "Vehicle & Communication Supervisor",
          "গাড়ির চালক, কন্ডাক্টর": "Driver, Conductor",
          "চিঠিপত্র বিলিকারী (ডাক পিয়ন)": "Postman",
          "টেলিফোন ও টেলিগ্রাফ অপারেটর": "Telephone and Telegraph Operator",
          "অশ্রেণীভুক্ত দাপ্তরিক কাজ।": "Non-categorized Clerical Worker",
          "ম্যানেজার (পাইকারী ও খুচরা ব্যবসা)": "Manager (Retail & Wholesale)",
          "বিক্রয় তত্বাবধায়ক": "Sales Supervisor",
          "ভ্রমণ সংক্রান্ত কাজে নিয়োজিত কর্মী": "Travelling Related Worker",
          "বীমা, রিয়েল এস্টেট, ব্যবসা এবং এতদসম্পর্কিত সেবা বিক্রেতা": "Insurance, Real State and Relevant Service Seller",
          "ফেরিওয়ালা": "Hawker",
          "অশ্রেণীভুক্ত বিক্রয় কর্মী": "Non-categorized Sales Worker",
          "আবাসিক হোটেল ম্যানেজার": "Residential Hotel Manager",
          "হোটেল মালিক": "Hotel Owner",
          "আবাসিক হোটেল তত্ত্বাবধায়ক": "Residential Hotel Supervisor",
          "বাবুর্চি, হোটেল বয় এবং এতদসম্পর্কিত সম্পর্কিত কর্মী,": "Cook, Waiter & Relevant Worker",
          "অশ্রেণীভুক্ত গৃহপরিচারিকা": "Non-categorized Housemaid",
          "বাড়ির কেয়ারটেকার, ঝাড়ুদার এবং এতদসম্পর্কিত কর্মী": "House Caretaker, Sweeper & Relevant Worker",
          "ধোপার কাজ": "Fuller",
          "নিরাপত্তা কর্মী": "Guard",
          "অশ্রেণীভুক্ত সেবা কর্মী": "Non-categorized Service Provider",
          "কৃষি খামার ব্যবস্থাপক ও তত্বাবধায়ক": "Agricultural Farm Manager and Supervisor",
          "কৃষি কাজ": "Agricultural Work",
          "বনকর্মী": "Forester",
          "জেলে, শিকারী এবং এতদসম্পর্কিত কর্মী": "Fisherman, Hunter and Relevant",
          "উৎপাদন তত্ত্বাবধায়ক এবং ফোরম্যান": "Production Supervisor & Foreman",
          "খনন কর্মী ও খননকারী": "Excavation and Digging",
          "ধাতু প্রক্রিয়াকারী": "Metal Processing",
          "রাসায়নিক দ্রব্য প্রক্রিয়াকারী": "Chemical Material Processing",
          "তাঁতি কাপড় বোনা ও রং করা": "Weaver (Weaving & Painting)",
          "চামড়া প্রক্রিয়াকরণ": "Leather Processing",
          "খাদ্য ও পানীয় প্রক্রিয়া কারী": "Food & Drink Processing",
          "তামাক প্রক্রিয়াকারী": "Tobacco Processing",
          "দর্জি ও অন্যান্য সেলাই কর্মী": "Tailor & Relevant",
          "জুতা ও চামড়াজাত দ্রব্য প্রস্তুতকারী": "Shoe & Lather Product Producer",
          "কাঠ মিস্ত্রি": "Carpenter",
          "পাথর কাটা ও প্রক্রিয়কারী": "Mason",
          "কর্মকার, ঢালাই কর্মী ও যন্ত্রাংশ প্রস্তুতকারী": "Smith, Welding Worker & Machinery Parts Producer",
          "বৈদ্যুতিক ব্যতীত অন্যান্য মেশিন কর্মী": "Machine Worker Other Then Electric",
          "বৈদ্যুতিক কর্মী": "Electrician",
          "শব্দ প্রচারকর্মী ও চলচ্চিত্র প্রদর্শনকারী": "Announcer & Cinema Exhibitor",
          "পানি ও পয়ঃনিষ্কাশন কাঠামো নির্মাণকারী ও ধাতু ঝালাইকারী": "Plumber & Metal Welder",
          "স্বর্ণকার": "Goldsmith",
          "গ্লাস ও মাটির জিনিস প্রস্তুতকারী": "Glass Maker & Potter",
          "রাবার ও প্লাস্টিক দ্রব্য প্রস্তুতকারী": "Rubber & Plastic Material Producer",
          "কাগজ ও কাগজের বোর্ড প্রস্তুতকারী": "Paper & Paper Board Producer",
          "মুদ্রণ কাজ": "Printing",
          "অকৃষি শ্রমিক": "Non-agricultural Worker",
          "গৃহকর্ম": "Household Work",
          "ছাত্র/ছাত্রী": "Study",
          "অন্যান্য": "Others (Occupation)"
        }
      },
      {
        "key": "religion",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "Religion",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "ধর্ম",
        "values": [
          "মুসলিম",
          "হিন্দু",
          "বৌদ্ধ",
          "খ্রিস্টান",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "মুসলিম": "Muslim",
          "হিন্দু": "Hindu",
          "বৌদ্ধ": "Buddhist",
          "খ্রিস্টান": "Christian",
          "অন্যান্য": "Others (Religion)"
        }
      },
      {
        "key": "blood_group",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "bloodgroup",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "রক্তের গ্রুপ",
        "values": [
          "A+",
          "A-",
          "B+",
          "B-",
          "O+",
          "O-",
          "AB+",
          "AB-",
          "রক্তের গ্রুপ জানা নেই"
        ],
        "openmrs_choice_ids": {
          "A+": "A+",
          "A-": "A-",
          "B+": "B+",
          "B-": "B-",
          "O+": "O+",
          "O-": "O-",
          "AB+": "AB+",
          "AB-": "AB-",
          "রক্তের গ্রুপ জানা নেই":"BloodGroupUnknown"
        }
      },
      {
        "key": "has_disease",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "has_disease",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "রোগ (যদি থাকে)",
        "values": [
          "হ্যাঁ",
          "না"
        ],
        "openmrs_choice_ids": {
          "হ্যাঁ": "Yes",
          "না": "No"
        }
      },
      {
        "key": "Disease_status",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "Disease_status",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "রোগ বা অবস্থা",
        "values": [
          "উচ্চ রক্তচাপ",
          "ডায়াবেটিস",
          "সম্ভাব্য যক্ষ্মা",
          "খুব মারাত্বক রোগ",
          "নিউমোনিয়া",
          "নিউমোনিয়া নয় সর্দি, কাশী",
          "ডায়ারিয়া ও আমাশয়",
          "জ্বর",
          "জ্বর, (ম্যালারিয়া)" ,
          "কানের সমস্যা",
          "হাম",
          "নাভিতে সংক্রামন",
          "চোখ উঠা",
          "আঘাত",
          "প্রসব পূর্ব",
          "প্রসবোত্তর",
          "পরিবার পরিকল্পনা",
          "স্বাভাবিক প্রসব",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "উচ্চ রক্তচাপ":"High Blood Pressure",
          "ডায়াবেটিস":"Diabetes",
          "সম্ভাব্য যক্ষ্মা":"Tuberculosis",
          "খুব মারাত্বক রোগ":"Very_severe_disease",
          "নিউমোনিয়া":"Pneumonia",
          "নিউমোনিয়া নয় সর্দি, কাশী":"Pneumonia, unspec.",
          "ডায়ারিয়া ও আমাশয়":"dieriaanddysentry",
          "জ্বর":"Fever",
          "জ্বর, (ম্যালারিয়া)":"maleria",
          "কানের সমস্যা":"Hearing loss, unspec.",
          "হাম":"Measles",
          "নাভিতে সংক্রামন":"nevalinfection",
          "চোখ উঠা":"Conjunctivitis, unspec.",
          "আঘাত":"Injury",
          "প্রসব পূর্ব":"Antenatal Period",
          "প্রসবোত্তর":"Postnatal",
          "পরিবার পরিকল্পনা":"familyplanning",
          "স্বাভাবিক প্রসব":"regulardelivery",
          "অন্যান্য":"Others_member_disease"
        },
        "relevance": {
          "step1:has_disease": {
            "type": "string",
            "ex": "equalTo(., \"হ্যাঁ\")"
          }
        }
      },
      {
        "key": "illness_information",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "family_diseases_details",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "রোগ  সম্পর্কিত পারিবারিক তথ্য",
        "values": [
          "উচ্চ রক্তচাপ",
          "ডায়াবেটিস",
          "যক্ষ্মা",
          "প্রতিবন্ধিতা",
          "মানসিক অসুখ",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "উচ্চ রক্তচাপ": "High Blood Pressure",
          "ডায়াবেটিস": "Diabetes",
          "যক্ষ্মা": "Tuberculosis",
          "প্রতিবন্ধিতা": "Disability",
          "মানসিক অসুখ":"Psychological Disease",
          "অন্যান্য": "Others (Family Disease)"
        }
      },
      {
        "key": "risky_habits",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "RiskyHabit",
        "openmrs_data_type": "text",
        "type": "spinner",
        "hint": "ঝুকিপূর্ন অভ্যাস",
        "values": [
          "বিড়ি/সিগারেট",
          "তামাক/সাদা পাতা",
          "অন্যান্য তামাক",
          "মাদকাসক্ত",
          "স্থুলকায়",
          "অতিরিক্ত লবন",
          "অন্যান্য"
        ],
        "openmrs_choice_ids": {
          "বিড়ি/সিগারেট": "Cigarette",
          "তামাক/সাদা পাতা": "Tobacco / White Leaf",
          "অন্যান্য তামাক": "Others (Tobacco)",
          "মাদকাসক্ত": "Drug Addiction",
          "স্থুলকায়": "Obesity",
          "অতিরিক্ত লবন": "High Salt Intake",
          "অন্যান্য": "Others (Risky Habit)"
        }
      },
      {
        "key": "comments",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "openmrs_data_type": "",
        "type": "edit_text",
        "hint": "মন্তব্য"
      }
    ]
  }
};
	 var testObject123 = {
	name: {
	firstName: "Will",
	lastName: "Graham"
	},
	personal: {
	age: 24,
	likesIceCream: true
	},
	hobbies: [
	 "cricket",
	 "football"
	],
	address: {
	road: { number: "10", street: "Zen street" },
	town: "Dhaka",
	county: "BD"
	}
	};

	var obj = testObj3;
  var convertedObj = convertForMedea(obj);

  $(function() {
            //var form = $("#formDiv").medea(obj);
            var form = $("#formDiv").medea(convertedObj);
            manageReleventInputs();
            //$("select[name~='nation']")
            //$("#formDiv").converter(obj);

	/*$("#formDiv").on("medea.submit", function(e, objUp) { 
	alert(JSON.stringify(e));
        alert(JSON.stringify(objUp));
	alert(objUp.name.firstName);
    });*/

 });


  function manageReleventInputs(){
      hideAllDependentInputs();
      var referenceFieldsWithOnChangeEvent = [];
      for(var i=0; i<relevenceArray.length; i++){
        var referenceFieldName = relevenceArray[i].referenceField;
        referenceFieldName = referenceFieldName.split("\:")[1];
        var selectedReferenceFieldId = "#"+referenceFieldName+ " option:selected";

        if(!referenceFieldsWithOnChangeEvent.includes(referenceFieldName)){
          addOnChangeEventToField(referenceFieldName);
          referenceFieldsWithOnChangeEvent.push(referenceFieldName);
        }

      }
  }

  function addOnChangeEventToField(referenceFieldName){
    var referenceFieldId = "#"+referenceFieldName;
        $(referenceFieldId).on("change", function() { 
            var newSelectedReferenceFieldId = "#"+referenceFieldName+ " option:selected";
            var selectedText = $(newSelectedReferenceFieldId).text();
            showInputDivBasedOnSelection(referenceFieldName, selectedText);
        } );
  }

  function showInputDivBasedOnSelection(referenceFieldNameToCompare, selectedText){
    disableDependentInputsOfReferenceField(referenceFieldNameToCompare);
    for(var i=0; i<relevenceArray.length; i++){
        var fieldName = relevenceArray[i].fieldName;
        var matchText = relevenceArray[i].matchValue;
        if(selectedText === matchText){
          showDivOfInputField(fieldName);
        }
      }
  }

  function disableDependentInputsOfReferenceField(referenceFieldNameToCompare){
    for(var i=0; i<relevenceArray.length; i++){
        var referenceFieldName = relevenceArray[i].referenceField;
        referenceFieldName = referenceFieldName.split("\:")[1];
        var fieldName = relevenceArray[i].fieldName;
        if(referenceFieldName===referenceFieldNameToCompare){
        hideDivOfInputField(fieldName);
        }
      }
  }

  function hideDivOfInputField(fieldName){
      disableInputField(fieldName);
      var divToHide = "#"+fieldName+"_div";
      $(divToHide).hide();
  }

  function showDivOfInputField(fieldName){
      enableInputField(fieldName);
      var divToHide = "#"+fieldName+"_div";
      $(divToHide).show();
  }

  function disableInputField(fieldName){
      var fieldNameToHide = '[name='+fieldName+']';
      $(fieldNameToHide).prop('disabled', true);
  }

  function enableInputField(fieldName){
      var fieldNameToHide = '[name='+fieldName+']';
      $(fieldNameToHide).prop('disabled', false);
  }

  function hideAllDependentInputs(){
    for(var i=0; i<relevenceArray.length; i++){
        var fieldName = relevenceArray[i].fieldName;
        hideDivOfInputField(fieldName);
      }
  }

	function submitFunction(){
	alert(JSON.stringify(obj));
	}

  
  var relevenceArray ;
  function convertForMedea(inputObj){

    var arrayRelevence = [];
    var dataArray = inputObj.step1.fields;
    var outputObj = {};
    for(var i=0; i<dataArray.length; i++){
            var fieldValue = "";
            if (typeof dataArray[i].values !== 'undefined'){
                fieldValue = dataArray[i].values ;
            }
            var fieldType = dataArray[i].type;
            var fieldName = dataArray[i].key;
            var openmrsChoiceIds = dataArray[i].openmrs_choice_ids;
            var optionArray = [];

            var relevenceObjFromInput = "";
            if (typeof dataArray[i].relevance !== 'undefined'){
                relevenceObjFromInput = dataArray[i].relevance ;

                 for(var prop in relevenceObjFromInput){
                    var relevenceObj ={};
                    relevenceObj.referenceField = prop;
                    relevenceObj.fieldName =  fieldName;
                    relevenceObj.fieldType = relevenceObjFromInput[prop].type;
                    var comparisonArray = relevenceObjFromInput[prop].ex.split('\(');
                    var comparisonString = comparisonArray[0];
                    relevenceObj.comparison = comparisonString;
                    var matchStringArray = relevenceObjFromInput[prop].ex.split('\"');
                    var matchString = matchStringArray[matchStringArray.length-2];
                    relevenceObj.matchValue = matchString;
                    arrayRelevence.push(relevenceObj);
                 }
                 
            }
          
            for(var prop in openmrsChoiceIds){
                optionArray.push(""+prop+"#"+openmrsChoiceIds[prop]);
            }
            if(optionArray.length>0){
              outputObj[fieldName] = optionArray;
            }else{
              outputObj[fieldName] = "";
            }
            
          }
           relevenceArray = arrayRelevence;
          return outputObj;
  }


    </script>
  }

</body>
</html>
